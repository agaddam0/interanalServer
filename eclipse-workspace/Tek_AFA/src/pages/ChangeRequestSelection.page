<apex:page standardController="Policyholder__c" extensions="PolicyholderChangeRequestEXT">
	<style>
    	.selectButton {
            text-align: center;
            align: center;
        }
    </style>
    <script>
    	function cancel(id)
    	{    		
    		if( (typeof sforce != 'undefined') && (sforce != null) ) {
	    		sforce.one.navigateToURL('/'+id);
			}
			else {
	    		window.location = '/'+id;
			}
    	}
    </script>
    <apex:sectionHeader title="Change Request Type"/><br/>
    <apex:form id="theForm">
        <apex:pageBlock mode="maindetail" title="Policyholder Details">
            <apex:pageBlockSection >
                <apex:outputField value="{!holder.First_Name__c}"/>
                <apex:outputField value="{!holder.Customer_Number__c}"/>
                <apex:outputField value="{!holder.Last_Name__c}"/>
                <apex:outputField value="{!holder.Primary_Phone__c}"/>
            </apex:pageBlockSection>
            <apex:pageBlockSection title="Select Change Request Type" columns="1">
                <div>
                    <br/><br/>
                    <apex:repeat id="rTypes" value="{!recordTypeSelection}" var="r">
                        <apex:PageBlockSectionItem >
                            <apex:inputCheckbox value="{!r.selected}"/>
                            <apex:outputText value="{!r.rt.Name}"/>
                        </apex:PageBlockSectionItem>
                    </apex:repeat>
                </div>
            </apex:pageBlockSection>
            <apex:pageBlockButtons location="bottom">
                <apex:commandButton value="Process Selected" action="{!processSelected}" rerender=""/>&nbsp;&nbsp;
                <apex:commandButton id="cancelButton" value="Cancel" onclick="cancel('{!holder.Id}'); return false;"/>
            </apex:pageBlockButtons>
        </apex:pageBlock>
    </apex:form>
</apex:page>