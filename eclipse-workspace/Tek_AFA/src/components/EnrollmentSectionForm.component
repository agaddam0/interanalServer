<apex:component controller="EnrollmentSectionFormController">
    <apex:attribute name="fieldSetName" description="The name of the field set to use" type="String" required="true" assignTo="{! ObjectFieldSetName }" />
    <apex:attribute name="record" description="The record that is being bound to in the form." type="SObject" required="true" assignTo="{! BoundRecord }" />
    <apex:attribute name="onChangeFunctionNameToCall" description="The javascript function to call when an input's value changes." type="String" required="true" />
    <apex:attribute name="numberOfLayoutColumns" description="Enter the number of desired layout columns. You have to enter at least 1." type="Integer" assignTo="{! NumberOfTableLayoutColumns }" /> 
    
    <style>
        .requiredLabelHidden {
            display: none;
        }
    </style>
    
    <table class="formtable" style="width:100%">
    
    <apex:repeat value="{! Table.Rows }" var="row">
        <tr>
            <apex:repeat value="{! row.Columns }" var="column">
                <td class="fieldLabel" style="vertical-align: top;"><span af-data-input-field-label-container="{! column.APIFieldName }"><apex:outputPanel layout="inline" html-af-data-input-field-required-container="{! column.APIFieldName }" styleClass="requiredLabel {! if(column.Required, '', 'requiredLabelHidden') }" />{! column.Label }<c:cHelp helpText="{! column.HelpText }"/></span></td>
            </apex:repeat>
        </tr>
        
        <tr>
            <apex:repeat value="{! row.Columns }" var="column">    
                <td af-data-input-field-container="{! column.APIFieldName }"><apex:inputField value="{! record[column.APIFieldName] }" onchange="{! onChangeFunctionNameToCall }();" /></td>
            </apex:repeat>
        </tr>
    </apex:repeat>
    </table>
</apex:component>